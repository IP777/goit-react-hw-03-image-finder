{"version":3,"sources":["components/searchbar/Searchbar.js","components/imageGallery/imageGalleryItem/modal/Modal.js","components/imageGallery/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/buttonLoadMore/ButtonLoadMore.js","components/axiosRequest/AxiosRequest.js","components/App.js","index.js"],"names":["Searchbar","state","query","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","className","type","autoComplete","autoFocus","placeholder","name","onChange","Component","Modal","clickFunc","tagName","clickState","document","removeEventListener","escFunction","src","alt","id","onClick","ImageGalleryItem","click","handelClick","addEventListener","bind","event","keyCode","webformatURL","tags","largeImageURL","ImageGallery","gallery","map","item","key","ButtonLoadMore","setPagination","axiosRequest","pagination","axios","get","App","request","isLoading","error","fetchArticles","then","response","data","hits","catch","finally","newPagination","window","scrollTo","top","documentElement","scrollHeight","behavior","length","color","height","width","timeout","message","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a1f6522d.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n//---------------------------------------\r\nimport \"./Searchbar.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n\tstate = { query: \"\" };\r\n\r\n\tstatic propTypes = {\r\n\t\tonSubmit: PropTypes.func.isRequired,\r\n\t};\r\n\r\n\thandleChange = (e) => {\r\n\t\tthis.setState({\r\n\t\t\tquery: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tthis.props.onSubmit(this.state.query, 1);\r\n\r\n\t\tthis.setState({ query: \"\" });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { query } = this.state;\r\n\t\treturn (\r\n\t\t\t<header className=\"Searchbar\">\r\n\t\t\t\t<form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<button type=\"submit\" className=\"SearchForm-button\">\r\n\t\t\t\t\t\t<span className=\"SearchForm-button-label\">Search</span>\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclassName=\"SearchForm-input\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\tplaceholder=\"Search images and photos\"\r\n\t\t\t\t\t\tname=\"request\"\r\n\t\t\t\t\t\tvalue={query}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</form>\r\n\t\t\t</header>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n//---------------------------------------\r\nimport \"./Modal.css\";\r\n\r\nexport default class Modal extends Component {\r\n\tstate = {};\r\n\r\n\tstatic propTypes = {\r\n\t\tsrc: PropTypes.string.isRequired,\r\n\t\tclickState: PropTypes.func.isRequired,\r\n\t\talt: PropTypes.string,\r\n\t};\r\n\r\n\tcomponentWillUnmount() {\r\n\t\t//Убераю Listner -> вешаю в родителе функция handelClick()\r\n\t\tdocument.removeEventListener(\"keydown\", this.escFunction);\r\n\t}\r\n\r\n\tclickFunc = (e) => {\r\n\t\tif (e.target.tagName !== \"IMG\") {\r\n\t\t\tthis.props.clickState();\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { src, alt } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"Overlay\">\r\n\t\t\t\t<div className=\"Modal\" id=\"Modal\" onClick={this.clickFunc}>\r\n\t\t\t\t\t<img src={src} alt={alt} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n//---------------------------------------\r\nimport \"./ImageGalleryItem.css\";\r\nimport Modal from \"./modal/Modal\";\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n\t//Если click: true появляется модальное окно\r\n\tstate = { click: false };\r\n\r\n\tstatic propTypes = {\r\n\t\tkey: PropTypes.number.isRequired,\r\n\t\twebformatURL: PropTypes.string.isRequired,\r\n\t\tlargeImageURL: PropTypes.string.isRequired,\r\n\t\ttags: PropTypes.string,\r\n\t};\r\n\r\n\tescFunction(event) {\r\n\t\tif (event.keyCode === 27) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tclick: false,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\thandelClick = () => {\r\n\t\t//вешаю Listner на документ -> Убираю в компоненте Modal функция componentWillUnmount()\r\n\t\tif (!this.state.click) {\r\n\t\t\tdocument.addEventListener(\"keydown\", this.escFunction.bind(this));\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tclick: !this.state.click,\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { webformatURL, tags, largeImageURL } = this.props;\r\n\t\tconst { click } = this.state;\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<li className=\"ImageGalleryItem\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={webformatURL}\r\n\t\t\t\t\t\talt={tags}\r\n\t\t\t\t\t\tclassName=\"ImageGalleryItem-image\"\r\n\t\t\t\t\t\tonClick={this.handelClick}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</li>\r\n\t\t\t\t{click && (\r\n\t\t\t\t\t<Modal\r\n\t\t\t\t\t\tsrc={largeImageURL}\r\n\t\t\t\t\t\talt={tags}\r\n\t\t\t\t\t\tclickState={this.handelClick}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n//---------------------------------------\r\nimport \"./ImageGallery.css\";\r\nimport ImageGalleryItem from \"./imageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ gallery }) => (\r\n\t<ul className=\"ImageGallery\">\r\n\t\t{gallery.map((item) => (\r\n\t\t\t<ImageGalleryItem\r\n\t\t\t\tkey={item.id}\r\n\t\t\t\twebformatURL={item.webformatURL}\r\n\t\t\t\ttags={item.tags}\r\n\t\t\t\tlargeImageURL={item.largeImageURL}\r\n\t\t\t/>\r\n\t\t))}\r\n\t</ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n\tgallery: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n//---------------------------------------\r\nimport \"./ButtonLoadMore.css\";\r\n\r\nconst ButtonLoadMore = ({ setPagination }) => {\r\n\treturn (\r\n\t\t<button className=\"Button2\" onClick={setPagination}>\r\n\t\t\tLoad more ....\r\n\t\t</button>\r\n\t);\r\n};\r\n\r\nButtonLoadMore.propTypes = {\r\n\tsetPagination: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ButtonLoadMore;\r\n","import axios from \"axios\";\r\n\r\nconst BASE_URL = \"https://pixabay.com/api/\";\r\nconst API_KEY = \"15197033-6a0a9e6d0bedb15a0a6a5ba9a\";\r\n\r\nexport const axiosRequest = (value, pagination) => {\r\n\treturn axios.get(\r\n\t\t`${BASE_URL}?key=${API_KEY}&q=${value}&image_type=photo&per_page=12&page=${pagination}`\r\n\t);\r\n};\r\n","import React, { Component } from \"react\";\r\nimport Searchbar from \"./searchbar/Searchbar\";\r\nimport ImageGallery from \"./imageGallery/ImageGallery\";\r\nimport ButtonLoadMore from \"./buttonLoadMore/ButtonLoadMore.js\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"./App.css\";\r\n\r\nimport { axiosRequest } from \"./axiosRequest/AxiosRequest\";\r\n\r\nexport default class App extends Component {\r\n\tstate = {\r\n\t\tgallery: [],\r\n\t\trequest: \"\",\r\n\t\tpagination: 1,\r\n\t\tisLoading: false,\r\n\t\terror: null,\r\n\t};\r\n\r\n\tfetchArticles = (value, pagination) => {\r\n\t\tthis.setState({ isLoading: true });\r\n\r\n\t\taxiosRequest(value, pagination)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tif (pagination > 1) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tgallery: [...this.state.gallery, ...response.data.hits],\r\n\t\t\t\t\t\trequest: value,\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tgallery: response.data.hits,\r\n\t\t\t\t\t\trequest: value,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((error) => this.setState({ error }))\r\n\t\t\t.finally(() => this.setState({ isLoading: false }));\r\n\t};\r\n\r\n\tsetPagination = () => {\r\n\t\tconst newPagination = this.state.pagination + 1;\r\n\r\n\t\tthis.fetchArticles(this.state.request, newPagination);\r\n\r\n\t\tthis.setState({\r\n\t\t\tpagination: newPagination,\r\n\t\t});\r\n\t};\r\n\r\n\tcomponentDidUpdate() {\r\n\t\twindow.scrollTo({\r\n\t\t\ttop: document.documentElement.scrollHeight,\r\n\t\t\tbehavior: \"smooth\",\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { gallery, isLoading, error } = this.state;\r\n\t\treturn (\r\n\t\t\t<div className=\"App\">\r\n\t\t\t\t<Searchbar onSubmit={this.fetchArticles} />\r\n\t\t\t\t{gallery.length > 0 && <ImageGallery gallery={gallery} />}\r\n\t\t\t\t{isLoading && (\r\n\t\t\t\t\t<Loader\r\n\t\t\t\t\t\ttype=\"ThreeDots\"\r\n\t\t\t\t\t\tcolor=\"#00BFFF\"\r\n\t\t\t\t\t\theight={80}\r\n\t\t\t\t\t\twidth={80}\r\n\t\t\t\t\t\ttimeout={3000} //3 secs\r\n\t\t\t\t\t\tclassName=\"Spinner\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t{gallery.length > 0 && (\r\n\t\t\t\t\t<ButtonLoadMore setPagination={this.setPagination} />\r\n\t\t\t\t)}\r\n\t\t\t\t{error && (\r\n\t\t\t\t\t<h3 className=\"Error\">\r\n\t\t\t\t\t\tOops something happened: {error.message}\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}